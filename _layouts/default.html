<!DOCTYPE html>
	<html>
		<head>
			<title>{{ page.title }}</title>
			<meta name="viewport" content="width=device-width, initial-scale=1.0">
			<!-- link to main stylesheet -->
			<link rel="stylesheet" type="text/css" href="../css/main.css">
			<link rel="stylesheet" href="../css/bootstrap.min.css">
			<script src="../js/jquery-2.1.3.min.js"></script>
			<script src="../js/bootstrap.min.js"></script>
			<script src="../js/angular.min.js"></script>
			<script src="../js/moment.js"></script>
			<script src="../js/quotes.js"></script>
			<script src="../js/ui-bootstrap-tpls-0.13.0.min.js"></script>
			
			<script type="text/javascript">
				var stockApp = angular.module('StockApp', ['ui.bootstrap']);


				stockApp.controller('StockController', function($scope, $http) {
					var tickers = ['BAC', 'CPA', 'DDD', 'LINE', 'MOBI', 'NOK'];
					
					getData(tickers);
					function getData(ticker) {
						if (ticker.length > 0) {
							var queryString = ticker.join(',');
						
						 	var stockRequest =  $http.jsonp("https://query.yahooapis.com/v1/public/yql", 
					 		{
					 			params: {
					 				q: "select * from yahoo.finance.quotes where symbol in ('" + queryString + "') ",
					 				format: "json",
					 				env: "http://datatables.org/alltables.env",
					 				callback: "JSON_CALLBACK"
					 			}
					 		}).success(function(data) {
					 			$scope.mystock = data.query.results.quote;
					 		});
					 	} else {
					 		$scope.error = 'Invalid param for getData function';
					 	}
					}
				});
			</script>
		</head>
		<body>
			<div class="container-body">
				<nav class="navbar navbar-default" id="mynavbar" role="navigation">
					<div class="container-fluid">
						<a href="../index.html"><div class="pull-left title">SPITZ</div></a>
						<div class="navbar-header">
							<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
							</button>
						</div>
						<div class="navbar-collapse collapse" id="navbar-collapse">
							<ul class="nav navbar-nav navbar-right">
								<li class=""><a href="../index.html"><span>Home</span></a></li>
								<li class=""><a href="../food"><span>Food</span></a></li>
								<li class=""><a href="../money"><span>Money</span></a></li>
								<li class=""><a href="../cv"><span>Resume</span></a></li>
								<li class=""><a href="../playground"><span>Playground</span></a></li>
							</ul>
						</div>
					</div>
				</nav>
				<div class="container-main">
					<!--{{content}}-->
					<div ng-app="StockApp" class="container-content container-carousel">
						<div ng-controller="StockController">
							<carousel>
								<slide ng-repeat="stock in mystock" active="slide.active">
									<div class="container-slide">
										<div>
											<h2>{{stock.symbol}}</h4>
											<p>{{stock.Name}}</p>
										</div>
										<div>
											<table class="table borderless stock-detail">
												<thead>
													<tr>
														<th>
															<label>Last Price</label>
															<p>{{stock.LastTradePriceOnly}}</p>
														</th>
														<th>
															<label>Today's Change</label>
															<p>{{stock.Change}} ({{stock.ChangeinPercent}})</p>
														</th>
														<th>
															<label>Volume</label>
															<p>{{stock.Volume}}</p>
														</th>
													<tr>
													<tbody>
														<tr>
															<td></td>
															<td></td>
															<td></td>
														</tr>
														<tr>
															<td class="text-right">Price Open</td>
															<td></td>
															<td class="text-left">{{stock.Open}}</td>
														</tr>
														<tr>
															<td class="text-right">Previous Close</td>
															<td></td>
															<td class="text-left">{{stock.PreviousClose}}</td>
														</tr>
														<tr>
															<td class="text-right">Day Range</td>
															<td></td>
															<td class="text-left">{{stock.DaysRange}}</td>
														</tr>
														<tr>
															<td class="text-right">Year Range</td>
															<td></td>
															<td class="text-left">{{stock.YearRange}}</td>
														</tr>
													</tbody>
												</thead>
											</table>
										</div>	
									</div>								
								</slide>
							</carousel>
						</div>
					</div>
					<div class="quotes col-md-6 col-md-offset-3">
						<div class="text"></div>
						<div class="source pull-right"></div>
					</div>
				</div>
			</div>
		</body>
	</html>